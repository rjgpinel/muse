<mujoco>
    <!-- left gripper fingers -->
    <actuator>
        <position ctrllimited="true" ctrlrange="0 1.3" joint="left_gripper_finger_1_joint" kp="5000" name="left_gripper_finger_actuator" user="1" />
    </actuator>

    <!-- mocap -->
    <worldbody>
        <body mocap="true" name="left_gripper_mocap" pos="0 0 0">
            <!-- <geom conaffinity="0" contype="0" pos="0 0 0" rgba="0 0.5 0 0.7" size="0.005 0.005 0.005" type="box" /> -->
            <!-- <geom conaffinity="0" contype="0" pos="0 0 0" rgba="0 0.5 0 0.1" size="1 0.005 0.005" type="box" /> -->
            <!-- <geom conaffinity="0" contype="0" pos="0 0 0" rgba="0 0.5 0 0.1" size="0.005 1 0.001" type="box" /> -->
            <!-- <geom conaffinity="0" contype="0" pos="0 0 0" rgba="0 0.5 0 0.1" size="0.005 0.005 1" type="box" /> -->
            <site name="left_gripper_mocap" pos="0 0 0" size="0.02 0.02 0.02" rgba="0 1 0 0" type="sphere"></site>
        </body>
    </worldbody>

    <!-- equality constraints -->
    <equality>
        <!-- left gripper -->
        <!-- mocap -->
        <weld body1="left_gripper_mocap" body2="left_gripper_frame" solimp="0.9 0.95 0.001" solref="0.02 1"></weld>
        <!-- truss_arm and tip mirrors moment_arm joint  -->
        <joint joint1="left_gripper_finger_1_joint" joint2="left_gripper_finger_1_truss_arm_joint" polycoef="0 1 0 0 0"></joint>
        <joint joint1="left_gripper_finger_1_joint" joint2="left_gripper_finger_1_tip_joint" polycoef="0 1 0 0 0"></joint>
        <joint joint1="left_gripper_finger_1_joint" joint2="left_gripper_finger_1_safety_shield_joint" polycoef="0 1 0 0 0"></joint>
        <joint joint1="left_gripper_finger_2_joint" joint2="left_gripper_finger_2_truss_arm_joint" polycoef="0 1 0 0 0"></joint>
        <joint joint1="left_gripper_finger_2_joint" joint2="left_gripper_finger_2_tip_joint" polycoef="0 1 0 0 0"></joint>
        <joint joint1="left_gripper_finger_2_joint" joint2="left_gripper_finger_2_safety_shield_joint" polycoef="0 1 0 0 0"></joint>
        <!-- finger 2 mirrors finger 1 -->
        <joint joint1="left_gripper_finger_1_joint" joint2="left_gripper_finger_2_joint" polycoef="0 1 0 0 0"></joint>
    </equality>

    <!-- left arm -->
    <contact>
        <exclude body1="tower" body2="left_base_link"/>
        <exclude body1="tower" body2="left_shoulder_link"/>
        <exclude body1="tower" body2="left_upper_arm_link"/>
        <!-- added but should not be necessary, probably due to calibration errors -->
        <exclude body1="tower" body2="left_forearm_link"/>

        <!-- ignore contacts between finger tips and the gripper moment and truss arms and safety shields -->
        <!-- gripper -->
        <exclude body1="left_gripper_finger_1_moment_arm" body2="left_gripper_finger_1_tip" />
        <exclude body1="left_gripper_finger_1_moment_arm" body2="left_gripper_finger_1_truss_arm" />
        <exclude body1="left_gripper_finger_1_truss_arm" body2="left_gripper_finger_1_tip" />
        <exclude body1="left_gripper_finger_2_moment_arm" body2="left_gripper_finger_2_tip" />
        <exclude body1="left_gripper_finger_2_moment_arm" body2="left_gripper_finger_2_truss_arm" />
        <exclude body1="left_gripper_finger_2_truss_arm" body2="left_gripper_finger_2_tip" />
        <exclude body1="left_gripper_finger_1_tip" body2="left_gripper_finger_2_tip" />
        <exclude body1="left_gripper_finger_1_safety_shield" body2="left_gripper_finger_1_tip" />
        <exclude body1="left_gripper_finger_1_safety_shield" body2="left_gripper_finger_1_truss_arm" />
        <exclude body1="left_gripper_finger_1_safety_shield" body2="left_gripper_finger_1_moment_arm" />
        <exclude body1="left_gripper_finger_2_safety_shield" body2="left_gripper_finger_2_tip" />
        <exclude body1="left_gripper_finger_2_safety_shield" body2="left_gripper_finger_2_truss_arm" />
        <exclude body1="left_gripper_finger_2_safety_shield" body2="left_gripper_finger_2_moment_arm" />

    </contact>

</mujoco>
